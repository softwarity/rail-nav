<section class="playground">
  <h2>Playground</h2>

  <!-- Interactive index.html fragment with color scheme toggle -->
  <div class="code-header">
    <span>index.html</span>
    <button class="color-scheme-toggle" (click)="toggleColorScheme()" [title]="isDarkMode() ? 'Switch to light mode' : 'Switch to dark mode'">
      @if (isDarkMode()) {
        <mat-icon>light_mode</mat-icon>
      } @else {
        <mat-icon>dark_mode</mat-icon>
      }
    </button>
  </div>
  <interactive-code class="inline-code" language="html">
    <textarea><body class="${darkModeClass}">...</body></textarea>
    <code-binding key="darkModeClass" type="readonly" [value]="darkModeClass()"></code-binding>
  </interactive-code>

  <!-- Interactive HTML Code -->
  <interactive-code language="html">
    <textarea><rail-nav-container [showBackdrop]="${hasBackdrop}">
  <rail-nav [position]="'${position}'" [autoCollapse]="${autoCollapse}" title="${title}" subtitle="Rail Nav">
    <rail-nav-item label="Home" [badge]="${homeBadge}"><mat-icon>home</mat-icon></rail-nav-item>
    <rail-nav-item label="Favorites" [badge]="${favoritesDot}"><mat-icon>favorite</mat-icon></rail-nav-item>
    <rail-nav-item label="Settings" routerLink="/settings"><mat-icon>settings</mat-icon></rail-nav-item>
  </rail-nav>
  <rail-nav-content><!-- auto-detects position & width --></rail-nav-content>
</rail-nav-container></textarea>
    <code-binding key="title" type="string" [value]="title()" (change)="title.set($any($event).detail)"></code-binding>
    <code-binding key="hasBackdrop" type="boolean" [value]="hasBackdrop()" (change)="hasBackdrop.set($any($event).detail)"></code-binding>
    <code-binding key="position" type="select" options="start,end" [value]="position()" (change)="position.set($any($event).detail)"></code-binding>
    <code-binding key="autoCollapse" type="boolean" [value]="autoCollapse()" (change)="autoCollapse.set($any($event).detail)"></code-binding>
    <code-binding key="homeBadge" type="number" min="0" max="99" [value]="homeBadge()" (change)="homeBadge.set($any($event).detail)"></code-binding>
    <code-binding key="favoritesDot" type="boolean" [value]="favoritesDot()" (change)="favoritesDot.set($any($event).detail)"></code-binding>
  </interactive-code>

  <!-- Live Preview -->
  <div class="preview-wrapper">
    <div class="preview-area rail-preview" #previewArea>
      <rail-nav-container [showBackdrop]="hasBackdrop()">
        <rail-nav #railnav [position]="position()" [autoCollapse]="autoCollapse()" [title]="title()" subtitle="Rail Nav">
          @for (item of navItems; track item.id) {
            <rail-nav-item
              [label]="item.label"
              [active]="activeItem() === item.id"
              [badge]="item.id === 'home' ? (homeBadge() || undefined) : item.id === 'favorites' ? (favoritesDot() || undefined) : undefined"
              (itemClick)="selectItem(item.id)">
              <mat-icon>{{ item.icon }}</mat-icon>
            </rail-nav-item>
          }
        </rail-nav>

        <rail-nav-content>
          <mat-toolbar>
            <mat-form-field appearance="outline" subscriptSizing="dynamic" >
              <input matInput placeholder="Search...">
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
            <span class="spacer"></span>
            <button mat-icon-button>
              <mat-icon>account_circle</mat-icon>
            </button>
          </mat-toolbar>
          <div class="demo-content">
            <p>Active: <code>{{ activeItem() }}</code></p>
            <p>Click the burger to expand/collapse.</p>
          </div>
        </rail-nav-content>
      </rail-nav-container>
    </div>
  </div>

  <!-- SCSS Material Theme -->
  <interactive-code language="scss">
    <textarea>@use '@angular/material' as mat;

html {
  @include mat.theme((color: mat.$${palette}-palette));
  color-scheme: light;
  & body.dark-mode { color-scheme: dark; }
}</textarea>
    <code-binding key="palette" type="select" options="red,green,blue,yellow,cyan,magenta,orange,chartreuse,spring-green,azure,violet,rose" [value]="selectedPalette()" (change)="selectedPalette.set($any($event).detail)"></code-binding>
  </interactive-code>

  <!-- SCSS Overrides -->
  <interactive-code language="scss">
    <textarea>/* SCSS Theme Override */
@use '@softwarity/rail-nav/rail-nav-theme' as rail-nav;

:root {
  @include rail-nav.overrides((
    ${collapsedWidthEnabled}collapsed-width: ${collapsedWidth}px,
    ${expandedWidthEnabled}expanded-width: ${expandedWidth}px,
    ${headerHeightEnabled}header-height: ${headerHeight}px,
    ${surfaceEnabled}surface-color: light-dark(${surfaceLight}, ${surfaceDark}),
    ${backdropEnabled}backdrop-color: light-dark(${backdropLight}, ${backdropDark}),
    ${primaryEnabled}primary: light-dark(${primaryLight}, ${primaryDark}),
    ${secondaryContainerEnabled}secondary-container: light-dark(${secondaryContainerLight}, ${secondaryContainerDark})
  ));
}</textarea>
    <!-- Size overrides -->
    <code-binding key="collapsedWidthEnabled" type="comment" [value]="collapsedWidthEnabled()" (change)="collapsedWidthEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="collapsedWidth" type="number" min="48" max="120" step="4" [value]="collapsedWidth()" (change)="collapsedWidth.set($any($event).detail)" [disabled]="!collapsedWidthEnabled()"></code-binding>
    <code-binding key="expandedWidthEnabled" type="comment" [value]="expandedWidthEnabled()" (change)="expandedWidthEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="expandedWidth" type="number" min="150" max="400" step="10" [value]="expandedWidth()" (change)="expandedWidth.set($any($event).detail)" [disabled]="!expandedWidthEnabled()"></code-binding>
    <code-binding key="headerHeightEnabled" type="comment" [value]="headerHeightEnabled()" (change)="headerHeightEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="headerHeight" type="number" min="40" max="80" step="4" [value]="headerHeight()" (change)="headerHeight.set($any($event).detail)" [disabled]="!headerHeightEnabled()"></code-binding>
    <!-- Color overrides -->
    <code-binding key="surfaceEnabled" type="comment" [value]="surfaceEnabled()" (change)="surfaceEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="surfaceLight" type="color" [value]="surfaceLight()" (change)="surfaceLight.set($any($event).detail)" [disabled]="!surfaceEnabled()"></code-binding>
    <code-binding key="surfaceDark" type="color" [value]="surfaceDark()" (change)="surfaceDark.set($any($event).detail)" [disabled]="!surfaceEnabled()"></code-binding>
    <code-binding key="backdropEnabled" type="comment" [value]="backdropEnabled()" (change)="backdropEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="backdropLight" type="color" [value]="backdropLight()" (change)="backdropLight.set($any($event).detail)" [disabled]="!backdropEnabled()"></code-binding>
    <code-binding key="backdropDark" type="color" [value]="backdropDark()" (change)="backdropDark.set($any($event).detail)" [disabled]="!backdropEnabled()"></code-binding>
    <code-binding key="primaryEnabled" type="comment" [value]="primaryEnabled()" (change)="primaryEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="primaryLight" type="color" [value]="primaryLight()" (change)="primaryLight.set($any($event).detail)" [disabled]="!primaryEnabled()"></code-binding>
    <code-binding key="primaryDark" type="color" [value]="primaryDark()" (change)="primaryDark.set($any($event).detail)" [disabled]="!primaryEnabled()"></code-binding>
    <code-binding key="secondaryContainerEnabled" type="comment" [value]="secondaryContainerEnabled()" (change)="secondaryContainerEnabled.set($any($event).detail)"></code-binding>
    <code-binding key="secondaryContainerLight" type="color" [value]="secondaryContainerLight()" (change)="secondaryContainerLight.set($any($event).detail)" [disabled]="!secondaryContainerEnabled()"></code-binding>
    <code-binding key="secondaryContainerDark" type="color" [value]="secondaryContainerDark()" (change)="secondaryContainerDark.set($any($event).detail)" [disabled]="!secondaryContainerEnabled()"></code-binding>
  </interactive-code>
</section>
