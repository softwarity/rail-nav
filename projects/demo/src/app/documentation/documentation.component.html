<section class="documentation">
  <h2>Documentation</h2>

  <!-- Installation -->
  <article class="doc-section">
    <h3>Installation</h3>
    <interactive-code language="shell">
      <textarea>npm install @softwarity/rail-nav</textarea>
    </interactive-code>
  </article>

  <!-- Usage -->
  <article class="doc-section">
    <h3>Usage</h3>
    <h4>Component</h4>
    <interactive-code language="typescript">
      <textarea>import {
  RailnavComponent,
  RailnavContainerComponent,
  RailnavContentComponent,
  RailnavBrandingDirective // Optional: for custom branding
} from '@softwarity/rail-nav';

@Component({
  imports: [RailnavComponent, RailnavContainerComponent, RailnavContentComponent, RailnavBrandingDirective],
  templateUrl: './app.component.html'
})
export class AppComponent {}</textarea>
    </interactive-code>
    <h4>Template</h4>
    <interactive-code language="html">
      <textarea><rail-nav-container>
  <rail-nav title="My App" subtitle="v1.0">
    <!-- Navigation items -->
  </rail-nav>
  <rail-nav-content>
    <!-- Page content -->
  </rail-nav-content>
</rail-nav-container></textarea>
    </interactive-code>
  </article>

  <!-- API - RailnavComponent -->
  <article class="doc-section">
    <h3>API - RailnavComponent</h3>
    <p>The main navigation rail component. Extends <code>MatSidenav</code>.</p>
    <p>Includes a built-in animated burger icon header with optional title/subtitle.</p>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Input</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>position</code></td>
            <td><code>'start' | 'end'</code></td>
            <td><code>'start'</code></td>
            <td>Position of the rail (left or right). Icon flips for 'end'</td>
          </tr>
          <tr>
            <td><code>title</code></td>
            <td><code>string</code></td>
            <td><code>undefined</code></td>
            <td>Title displayed next to burger when expanded (ignored if <code>railNavBranding</code> is used)</td>
          </tr>
          <tr>
            <td><code>subtitle</code></td>
            <td><code>string</code></td>
            <td><code>undefined</code></td>
            <td>Subtitle displayed below title when expanded (ignored if <code>railNavBranding</code> is used)</td>
          </tr>
          <tr>
            <td><code>hideDefaultHeader</code></td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>Hide the default header to provide custom content</td>
          </tr>
          <tr>
            <td><code>autoCollapse</code></td>
            <td><code>boolean</code></td>
            <td><code>true</code></td>
            <td>Auto-collapse the rail when an item is clicked</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h4>Properties & Methods</h4>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>expanded</code></td>
            <td><code>Signal&lt;boolean&gt;</code></td>
            <td>Read the current expanded state</td>
          </tr>
          <tr>
            <td><code>toggleExpanded()</code></td>
            <td><code>void</code></td>
            <td>Toggle between collapsed and expanded</td>
          </tr>
          <tr>
            <td><code>expand()</code></td>
            <td><code>void</code></td>
            <td>Expand the rail</td>
          </tr>
          <tr>
            <td><code>collapse()</code></td>
            <td><code>void</code></td>
            <td>Collapse the rail</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h4>Custom Branding</h4>
    <p>Use the <code>railNavBranding</code> directive to project custom content in the header area instead of using <code>title</code> and <code>subtitle</code> inputs:</p>
    <interactive-code language="html">
      <textarea><rail-nav>
  <!-- Custom branding replaces title/subtitle -->
  <div railNavBranding class="my-branding">
    <img src="logo.svg" alt="Logo">
    <span>My App</span>
  </div>
  <!-- Navigation items -->
</rail-nav></textarea>
    </interactive-code>
    <p><strong>Note:</strong> The burger icon is always displayed. Only the branding area (title/subtitle) is replaced by your custom content.</p>
  </article>

  <!-- API - RailnavContainerComponent -->
  <article class="doc-section">
    <h3>API - RailnavContainerComponent</h3>
    <p>Container component. Extends <code>MatSidenavContainer</code>.</p>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Input</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>showBackdrop</code></td>
            <td><code>boolean</code></td>
            <td><code>true</code></td>
            <td>Show backdrop overlay when expanded</td>
          </tr>
        </tbody>
      </table>
    </div>
  </article>

  <!-- API - RailnavContentComponent -->
  <article class="doc-section">
    <h3>API - RailnavContentComponent</h3>
    <p>Content area component. Extends <code>MatSidenavContent</code>.</p>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Input</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>position</code></td>
            <td><code>'start' | 'end'</code></td>
            <td><code>auto</code></td>
            <td>Position of rail. Auto-detected from sibling <code>rail-nav</code> if not set</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p><strong>Note:</strong> Position is optional. When placed inside a <code>rail-nav-container</code> alongside a <code>rail-nav</code>, the component automatically reads <code>position</code> from the sibling rail.</p>
  </article>

  <!-- API - RailnavItemComponent -->
  <article class="doc-section">
    <h3>API - RailnavItemComponent</h3>
    <p>Navigation item component with MD3 pill animation between collapsed and expanded modes.</p>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Input</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>routerLink</code></td>
            <td><code>string | any[]</code></td>
            <td><code>undefined</code></td>
            <td>Router link for navigation (renders as anchor)</td>
          </tr>
          <tr>
            <td><code>label</code></td>
            <td><code>string</code></td>
            <td><code>undefined</code></td>
            <td>Label text displayed (below icon collapsed, beside icon expanded)</td>
          </tr>
          <tr>
            <td><code>badge</code></td>
            <td><code>string | number | boolean</code></td>
            <td><code>undefined</code></td>
            <td>Badge value. Use <code>true</code> or <code>''</code> for a small dot badge</td>
          </tr>
          <tr>
            <td><code>active</code></td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>Whether this item is active (for non-router usage)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h4>Outputs</h4>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Output</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>itemClick</code></td>
            <td><code>void</code></td>
            <td>Emitted when item is clicked (for non-router usage). Automatically collapses the rail.</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h4>Usage</h4>
    <interactive-code language="html">
      <textarea><rail-nav-item
  [label]="'Home'"
  [badge]="3"
  [routerLink]="'/home'">
  <mat-icon>home</mat-icon>
</rail-nav-item>

<!-- Without router -->
<rail-nav-item
  [label]="'Settings'"
  [active]="isSettingsActive"
  (itemClick)="onSettingsClick()">
  <mat-icon>settings</mat-icon>
</rail-nav-item></textarea>
    </interactive-code>
  </article>

  <!-- Features -->
  <article class="doc-section">
    <h3>Features</h3>
    <ul class="feature-list">
      <li><strong>Material Design 3</strong> - Implements the Navigation Rail pattern from MD3</li>
      <li><strong>Animated Burger</strong> - Built-in burger icon with 90° rotation animation</li>
      <li><strong>Title & Subtitle</strong> - Optional branding next to the burger, or use <code>railNavBranding</code> for custom content</li>
      <li><strong>Navigation Items</strong> - <code>rail-nav-item</code> with MD3 pill animation, badges, and router support</li>
      <li><strong>Extends Material</strong> - Built on top of <code>MatSidenav</code> for reliability</li>
      <li><strong>Expand/Collapse</strong> - Smooth transition between rail and drawer with adaptive width</li>
      <li><strong>Backdrop</strong> - Optional backdrop overlay when expanded</li>
      <li><strong>Position</strong> - Support for left (start) or right (end) positioning</li>
      <li><strong>Dark Mode</strong> - Automatically adapts to light/dark color scheme</li>
      <li><strong>SCSS Theming</strong> - Customizable via SCSS mixin following Angular Material pattern</li>
    </ul>
  </article>

  <!-- SCSS Theme Override -->
  <article class="doc-section">
    <h3>SCSS Theme Override</h3>
    <p>Use the SCSS mixin to customize colors following the Angular Material pattern:</p>
    <interactive-code language="scss">
      <textarea>@use '@softwarity/rail-nav/rail-nav-theme' as rail-nav;

:root {
  @include rail-nav.overrides((
    backdrop-color: rgba(0, 0, 0, 0.5),
    primary: #6200ea,
    surface-color: #f5f5f5,
  ));
}</textarea>
    </interactive-code>

    <h4>Available Tokens</h4>
    <div class="api-table-wrapper">
      <table class="api-table">
        <thead>
          <tr>
            <th>Token</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>collapsed-width</code></td><td><code>72px</code></td><td>Width of the rail when collapsed</td></tr>
          <tr><td><code>expanded-width</code></td><td><code>fit-content</code></td><td>Width of the rail when expanded</td></tr>
          <tr><td><code>header-height</code></td><td><code>56px</code></td><td>Height of the header area</td></tr>
          <tr><td><code>backdrop-color</code></td><td>—</td><td>Background color for the backdrop overlay</td></tr>
          <tr><td><code>surface-color</code></td><td>—</td><td>Background color for the rail</td></tr>
          <tr><td><code>surface-container-high</code></td><td>—</td><td>Background color for hover states</td></tr>
          <tr><td><code>on-surface</code></td><td>—</td><td>Text color for primary content (title, icons)</td></tr>
          <tr><td><code>on-surface-variant</code></td><td>—</td><td>Text color for secondary content (subtitle, labels)</td></tr>
          <tr><td><code>secondary-container</code></td><td>—</td><td>Background color for active items</td></tr>
          <tr><td><code>on-secondary-container</code></td><td>—</td><td>Text color for active items</td></tr>
          <tr><td><code>primary</code></td><td>—</td><td>Focus ring color</td></tr>
          <tr><td><code>error</code></td><td>—</td><td>Badge background color</td></tr>
          <tr><td><code>on-error</code></td><td>—</td><td>Badge text color</td></tr>
        </tbody>
      </table>
    </div>
  </article>

  <!-- CSS Customization -->
  <article class="doc-section">
    <h3>CSS Custom Properties</h3>
    <p>You can also use CSS custom properties directly:</p>
    <interactive-code language="scss">
      <textarea>:root {
  --rail-nav-collapsed-width: 72px;
  --rail-nav-expanded-width: fit-content;
  --rail-nav-header-height: 56px;
  --rail-nav-backdrop-color: rgba(0, 0, 0, 0.5);
  --rail-nav-surface-color: #ffffff;
  --rail-nav-on-surface: #1c1b1f;
  --rail-nav-on-surface-variant: #49454f;
  --rail-nav-secondary-container: #e8def8;
  --rail-nav-on-secondary-container: #1d192b;
  --rail-nav-primary: #6750a4;
  --rail-nav-error: #b3261e;
  --rail-nav-on-error: #ffffff;
}</textarea>
    </interactive-code>
    <p>By default, the component uses Material Design 3 system tokens (<code>--mat-sys-*</code>) as fallbacks.</p>

    <div class="info-box">
      <h4>Why CSS variables for dimensions?</h4>
      <p>Dimensions like <code>collapsed-width</code> and <code>header-height</code> are defined via CSS variables (instead of Angular inputs) for two key benefits:</p>
      <ul>
        <li><strong>Global configuration</strong> — Define values once in <code>:root</code> and apply to all instances</li>
        <li><strong>Responsive design</strong> — Use media queries to adapt dimensions to different screen sizes</li>
      </ul>
      <interactive-code language="scss">
        <textarea>:root {
  --rail-nav-collapsed-width: 72px;
}

@media (max-width: 600px) {
  :root {
    --rail-nav-collapsed-width: 56px;
  }
}</textarea>
      </interactive-code>
    </div>
  </article>

  <!-- Light/Dark Theme Support -->
  <article class="doc-section">
    <h3>Light/Dark Theme Support</h3>
    <p>Use the CSS <code>light-dark()</code> function to define colors that automatically adapt to the user's color scheme preference:</p>

    <h4>With SCSS mixin</h4>
    <interactive-code language="scss">
      <textarea>@use '@softwarity/rail-nav/rail-nav-theme' as rail-nav;

:root {
  @include rail-nav.overrides((
    backdrop-color: light-dark(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
    surface-color: light-dark(#ffffff, #1e1e1e),
    on-surface: light-dark(#1c1b1f, #e6e1e5),
    primary: light-dark(#6750a4, #d0bcff),
  ));
}</textarea>
    </interactive-code>

    <h4>With CSS custom properties</h4>
    <interactive-code language="scss">
      <textarea>:root {
  --rail-nav-backdrop-color: light-dark(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6));
  --rail-nav-surface-color: light-dark(#ffffff, #1e1e1e);
  --rail-nav-on-surface: light-dark(#1c1b1f, #e6e1e5);
  --rail-nav-on-surface-variant: light-dark(#49454f, #cac4d0);
  --rail-nav-secondary-container: light-dark(#e8def8, #4a4458);
  --rail-nav-on-secondary-container: light-dark(#1d192b, #e8def8);
  --rail-nav-primary: light-dark(#6750a4, #d0bcff);
  --rail-nav-error: light-dark(#b3261e, #f2b8b5);
  --rail-nav-on-error: light-dark(#ffffff, #601410);
}</textarea>
    </interactive-code>

    <h4>Setting up color-scheme</h4>
    <p>For <code>light-dark()</code> to work, you need to set the <code>color-scheme</code> property on your document:</p>
    <interactive-code language="scss">
      <textarea>/* styles.scss */
html {
  color-scheme: light;
  &.dark-mode { color-scheme: dark; }
}

/* Or use prefers-color-scheme for system preference */
html {
  color-scheme: light dark;
}</textarea>
    </interactive-code>
    <p><strong>Note:</strong> If you're using Angular Material with a theme, the <code>color-scheme</code> is typically set automatically based on your theme configuration.</p>
  </article>
</section>
